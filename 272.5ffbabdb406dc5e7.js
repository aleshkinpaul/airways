"use strict";(self.webpackChunkairways=self.webpackChunkairways||[]).push([[272],{3651:(ut,b,a)=>{a.r(b),a.d(b,{ShoppingCardModule:()=>pt});var d=a(6895),m=a(8252),l=a(3151),p=a(8957),_=a(263),C=a(8335),A=a(2906),t=a(4650),u=a(9653),x=a(4850),s=a(3546),v=a(4006),T=a(4859);let y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sort-button"]],inputs:{sortName:"sortName"},decls:14,vars:3,consts:[[1,"flex","gap-half","w-full","item-center"],[1,"fz-20","lh-20"],["width","10","height","20","xmlns","http://www.w3.org/2000/svg"],["fill","none","id","canvas_background","height","22","width","12","y","-1","x","-1"],["transform","rotate(-179.74609375 5.00738525390625,3.9234316349029537) ","id","svg_1","fill","#454A53","d","m1.67405,2.256757l3.33333,3.33335l3.33334,-3.33335l-6.66667,0z"],["id","svg_2","fill","#454A53","d","m1.666665,14.504487l3.33333,3.33335l3.33334,-3.33335l-6.66667,0z"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"p",1)(2,"strong"),t._uU(3),t.qZA()(),t.O4$(),t.TgZ(4,"svg",2)(5,"g")(6,"title"),t._uU(7,"background"),t.qZA(),t._UZ(8,"rect",3),t.qZA(),t.TgZ(9,"g")(10,"title"),t._uU(11,"Layer 1"),t.qZA(),t._UZ(12,"path",4)(13,"path",5),t.qZA()()()),2&e&&(t.ekj("center","No."===o.sortName),t.xp6(3),t.Oqu(o.sortName))},styles:["[_nghost-%COMP%]{width:100%}.center[_ngcontent-%COMP%]{justify-content:center}p[_ngcontent-%COMP%]{margin:.5rem 0}"]}),n})();var k=a(6709),h=a(9017),N=a(7392);let S=(()=>{class n{constructor(e,o){this.store=e,this.router=o}editFlight(){this.store.dispatch(C.j.EditFlightAction({id:this.order.id,flights:this.order.flights,passengersInfo:this.order.passengersInfo,passengersCount:this.order.passengersCount,totalPrice:this.order.total})),this.router.navigate(["/booking-page"])}deleteFlight(){this.store.dispatch(p.W.DeleteFlight({id:this.id}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.yh),t.Y36(m.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-card-menu"]],inputs:{order:"order",id:"id"},decls:12,vars:1,consts:[[1,"menu"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"button",1)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,2)(6,"button",3),t.NdJ("click",function(){return o.deleteFlight()}),t.TgZ(7,"span"),t._uU(8,"Delete"),t.qZA()(),t.TgZ(9,"button",3),t.NdJ("click",function(){return o.editFlight()}),t.TgZ(10,"span"),t._uU(11,"Edit"),t.qZA()()()()),2&e){const i=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",i)}},dependencies:[h.VK,h.OP,h.p6,N.Hw,T.RK]}),n})();var Z=a(338);function I(n,r){1&n&&(t.TgZ(0,"div",17)(1,"strong"),t._uU(2,"No:"),t.qZA()())}function J(n,r){if(1&n&&t._UZ(0,"app-card-menu",18),2&n){const e=t.oxw();t.Q6J("order",e.order)("id",e.data.id)}}function F(n,r){1&n&&t._UZ(0,"mat-divider",19)}function U(n,r){1&n&&(t.TgZ(0,"div",17)(1,"strong"),t._uU(2,"Flight:"),t.qZA()())}function q(n,r){if(1&n&&(t.TgZ(0,"p",9),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE(" ",e.data.to," - ",e.data.from," ")}}function D(n,r){1&n&&t._UZ(0,"mat-divider",19)}function Y(n,r){1&n&&(t.TgZ(0,"div",17)(1,"strong"),t._uU(2,"Type trip:"),t.qZA()())}function j(n,r){1&n&&(t.TgZ(0,"p",9),t._uU(1," Round Trip "),t.qZA())}function Q(n,r){1&n&&(t.TgZ(0,"p"),t._uU(1,"One way"),t.qZA())}function z(n,r){1&n&&t._UZ(0,"mat-divider",19)}function L(n,r){1&n&&(t.TgZ(0,"div",17)(1,"strong"),t._uU(2,"Date & Time:"),t.qZA()())}function H(n,r){if(1&n&&(t.TgZ(0,"p",9),t._uU(1),t.ALo(2,"date"),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.lnq(" ",t.xi3(2,3,e.data.backDate.landingDate,"d MMM, y"),", ",t.xi3(3,6,e.data.backDate.landingDate,"h:mm")," - ",t.xi3(4,9,e.data.backDate.takeoffDate,"h:mm")," ")}}function $(n,r){1&n&&t._UZ(0,"mat-divider",19)}function B(n,r){1&n&&(t.TgZ(0,"div",17)(1,"strong"),t._uU(2,"Passengers:"),t.qZA()())}function R(n,r){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("",e.data.adult," x Adult")}}function K(n,r){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("",e.data.child," x Child")}}function W(n,r){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("",e.data.infant," x Infant")}}function G(n,r){1&n&&t._UZ(0,"mat-divider",19)}function E(n,r){1&n&&(t.TgZ(0,"div",17)(1,"strong"),t._uU(2,"Price:"),t.qZA()())}function V(n,r){if(1&n&&t._UZ(0,"app-card-menu",18),2&n){const e=t.oxw(2);t.Q6J("order",e.order)("id",e.data.id)}}function X(n,r){if(1&n&&(t.TgZ(0,"div",20)(1,"p",21),t._uU(2),t.ALo(3,"currencyConverter"),t.qZA(),t.YNc(4,V,1,2,"app-card-menu",6),t.qZA()),2&n){const e=r.ngIf,o=t.oxw();t.xp6(2),t.hij(" ",t.xi3(3,2,o.data.price,e)," "),t.xp6(2),t.Q6J("ngIf",!o.smallPage)}}let w=(()=>{class n{constructor(e){this.store=e,this.currency$=this.store.select(_.u.CurrencySelector)}ngOnInit(){this.data=this.addVerables()}addCheckboxValueToStore(){this.store.dispatch(p.W.CheckFlight({id:this.order.id}))}addVerables(){return{flightNum:this.order.flights.forwardFlight.flightNumber,from:this.order.flights.forwardFlight.form.city,to:this.order.flights.forwardFlight.to.city,forvardDate:{takeoffDate:this.order.flights.forwardFlight.takeoffDate,landingDate:this.order.flights.forwardFlight.landingDate},backDate:this.order.flights.backFlight?{takeoffDate:this.order.flights.backFlight.takeoffDate,landingDate:this.order.flights.backFlight.landingDate}:null,adult:this.order.passengersInfo.adult.length,child:this.order.passengersInfo.child.length,infant:this.order.passengersInfo.infant.length,price:this.order.total.totalPrice,id:this.order.id,isChecked:this.order.isChecked}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order"]],inputs:{order:"order",smallPage:"smallPage"},decls:45,vars:40,consts:[[1,"order-container"],[1,"smallWidthDescriptionContainer"],["class","type-of-value",4,"ngIf"],[1,"flex","gap-half","item-center","value-container"],["color","primary",1,"example-margin",3,"checked","click"],[2,"color","#0090bd","font-size","20px"],[3,"order","id",4,"ngIf"],["class","mat-divider-costum",4,"ngIf"],[1,"column","justify-around","value-container"],[1,"text-center"],["class","text-center",4,"ngIf"],[1,"flex","item-center","value-container"],["class","text-center",4,"ngIf","ngIfElse"],["roundTrip",""],[1,"justify-around","column","value-container"],[4,"ngIf"],["class","flex justify-between item-center value-container",4,"ngIf"],[1,"type-of-value"],[3,"order","id"],[1,"mat-divider-costum"],[1,"flex","justify-between","item-center","value-container"],[1,"price-secondary"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,I,3,0,"div",2),t.TgZ(3,"div",3)(4,"mat-checkbox",4),t.NdJ("click",function(){return o.addCheckboxValueToStore()}),t.qZA(),t.TgZ(5,"mat-card-title",5),t._uU(6),t.qZA()(),t.YNc(7,J,1,2,"app-card-menu",6),t.qZA(),t.YNc(8,F,1,0,"mat-divider",7),t.TgZ(9,"div",1),t.YNc(10,U,3,0,"div",2),t.TgZ(11,"div",8)(12,"p",9),t._uU(13),t.qZA(),t.YNc(14,q,2,2,"p",10),t.qZA()(),t.YNc(15,D,1,0,"mat-divider",7),t.TgZ(16,"div",1),t.YNc(17,Y,3,0,"div",2),t.TgZ(18,"div",11),t.YNc(19,j,2,0,"p",12),t.YNc(20,Q,2,0,"ng-template",null,13,t.W1O),t.qZA()(),t.YNc(22,z,1,0,"mat-divider",7),t.TgZ(23,"div",1),t.YNc(24,L,3,0,"div",2),t.TgZ(25,"div",14)(26,"p",9),t._uU(27),t.ALo(28,"date"),t.ALo(29,"date"),t.ALo(30,"date"),t.qZA(),t.YNc(31,H,5,12,"p",10),t.qZA()(),t.YNc(32,$,1,0,"mat-divider",7),t.TgZ(33,"div",1),t.YNc(34,B,3,0,"div",2),t.TgZ(35,"div",14),t.YNc(36,R,2,1,"p",15),t.YNc(37,K,2,1,"p",15),t.YNc(38,W,2,1,"p",15),t.qZA()(),t.YNc(39,G,1,0,"mat-divider",7),t.TgZ(40,"div",1),t.YNc(41,E,3,0,"div",2),t.YNc(42,X,5,5,"div",16),t.ALo(43,"async"),t.qZA()(),t._UZ(44,"mat-divider")),2&e){const i=t.MAs(21);t.xp6(2),t.Q6J("ngIf",o.smallPage),t.xp6(2),t.Q6J("checked",o.data.isChecked),t.xp6(2),t.hij("",o.data.flightNum," "),t.xp6(1),t.Q6J("ngIf",o.smallPage),t.xp6(1),t.Q6J("ngIf",o.smallPage),t.xp6(2),t.Q6J("ngIf",o.smallPage),t.xp6(3),t.AsE("",o.data.from," - ",o.data.to,""),t.xp6(1),t.Q6J("ngIf",o.data.backDate),t.xp6(1),t.Q6J("ngIf",o.smallPage),t.xp6(2),t.Q6J("ngIf",o.smallPage),t.xp6(2),t.Q6J("ngIf",o.data.backDate)("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",o.smallPage),t.xp6(2),t.Q6J("ngIf",o.smallPage),t.xp6(3),t.lnq(" ",t.xi3(28,29,o.data.forvardDate.landingDate,"d MMM, y"),", ",t.xi3(29,32,o.data.forvardDate.landingDate,"h:mm")," - ",t.xi3(30,35,o.data.forvardDate.takeoffDate,"h:mm")," "),t.xp6(4),t.Q6J("ngIf",o.data.backDate),t.xp6(1),t.Q6J("ngIf",o.smallPage),t.xp6(2),t.Q6J("ngIf",o.smallPage),t.xp6(2),t.Q6J("ngIf",o.data.adult>0),t.xp6(1),t.Q6J("ngIf",o.data.child>0),t.xp6(1),t.Q6J("ngIf",o.data.infant>0),t.xp6(1),t.Q6J("ngIf",o.smallPage),t.xp6(2),t.Q6J("ngIf",o.smallPage),t.xp6(1),t.Q6J("ngIf",t.lcZ(43,38,o.currency$)),t.xp6(2),t.ekj("mat-divider-costume2",o.smallPage)}},dependencies:[d.O5,k.oG,x.d,s.n5,S,d.Ov,d.uU,Z.P],styles:["[_nghost-%COMP%]{width:100%}.order-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 3fr 2fr 4fr 3fr 3fr;justify-content:start;font-size:20px;font-weight:500;line-height:32px;letter-spacing:.5px;padding:.5rem 0}@media screen and (max-width: 1100px){.order-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.value-container[_ngcontent-%COMP%]{width:100%;justify-content:center;align-items:center}}.menu[_ngcontent-%COMP%]{margin-right:-1.5rem}p[_ngcontent-%COMP%]{margin:0}.smallWidthDescriptionContainer[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;justify-content:start;width:100%}.type-of-value[_ngcontent-%COMP%]{width:30%}.mat-divider-costum[_ngcontent-%COMP%]{width:100%}.mat-divider-costume2[_ngcontent-%COMP%]{border-top-width:5px;width:100%;transform:scale(1.06);margin-top:1rem}"]}),n})(),M=(()=>{class n{constructor(){this.previousSort="No",this.isReverse=!1}transform(e,o,i){if(null===o||!i||"NoSort"===o.sortType)return e;const c=o.sortType;if(c===this.previousSort&&this.previousArray)return this.isReverse=!this.isReverse,this.previousArray=this.previousArray.reverse(),this.previousArray;const g=[...e];return this.previousSort=c,this.sortOrders(g,c)}sortOrders(e,o){return this.isReverse=!1,this.previousArray=e.sort((i,c)=>this.sortCb(i,c,o)),this.previousArray}sortCb(e,o,i){const c=(P,O)=>this.getArgOfSort(P,O),g=c(e,i),f=c(o,i);return g<f?-1:g>f?1:0}getArgOfSort(e,o){return"No"===o?e.flights.forwardFlight.flightNumber:"Flight"===o?e.flights.forwardFlight.form.city:"TripType"===o?e.flights.backFlight?"Round Trip":"One way":"Date"===o?this.newDate(e):"Passengers"===o?this.allCount(e.passengersCount):e.total.totalPrice}newDate(e){return new Date(e.flights.forwardFlight.landingDate).getTime()}allCount(e){return Object.values(e).reduce((o,i)=>o+i,0)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"sortOrders",type:n,pure:!0}),n})();function tt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card-actions",12)(1,"app-sort-button",13),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.sortOrders("No"))}),t.qZA(),t.TgZ(2,"app-sort-button",14),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.sortOrders("Flight"))}),t.qZA(),t.TgZ(3,"app-sort-button",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.sortOrders("TripType"))}),t.qZA(),t.TgZ(4,"app-sort-button",16),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.sortOrders("Date"))}),t.qZA(),t.TgZ(5,"app-sort-button",17),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.sortOrders("Passengers"))}),t.qZA(),t.TgZ(6,"app-sort-button",18),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.sortOrders("Price"))}),t.qZA()()}}function et(n,r){if(1&n&&t._UZ(0,"app-order",19),2&n){const e=r.$implicit,o=t.oxw();t.Q6J("order",e)("smallPage",o.smallPage)}}function nt(n,r){if(1&n&&(t.TgZ(0,"div",20)(1,"mat-card-subtitle",21),t._uU(2,"Total "),t.qZA(),t.TgZ(3,"mat-card-title"),t._uU(4),t.ALo(5,"currencyConverter"),t.ALo(6,"async"),t.qZA()()),2&n){const e=r.ngIf,o=t.oxw();t.xp6(4),t.Oqu(t.xi3(5,1,t.lcZ(6,4,o.totalPrice$),e))}}function rt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card-actions",7)(1,"app-sort-button",8),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.sortOrders("No"))}),t.qZA(),t.TgZ(2,"app-sort-button",9),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.sortOrders("Flight"))}),t.qZA(),t.TgZ(3,"app-sort-button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.sortOrders("TripType"))}),t.qZA(),t.TgZ(4,"app-sort-button",11),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.sortOrders("Date"))}),t.qZA(),t.TgZ(5,"app-sort-button",12),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.sortOrders("Passengers"))}),t.qZA(),t.TgZ(6,"app-sort-button",13),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.sortOrders("Price"))}),t.qZA()()}}function it(n,r){if(1&n&&t._UZ(0,"app-order",14),2&n){const e=r.$implicit,o=t.oxw();t.Q6J("order",e)("smallPage",o.smallPage)}}function at(n,r){if(1&n&&(t.TgZ(0,"div",15)(1,"mat-card-subtitle",16),t._uU(2,"Total "),t.qZA(),t.TgZ(3,"mat-card-title"),t._uU(4),t.ALo(5,"currencyConverter"),t.ALo(6,"async"),t.qZA()()),2&n){const e=r.ngIf,o=t.oxw();t.xp6(4),t.Oqu(t.xi3(5,1,t.lcZ(6,4,o.totalPrice$),e))}}const st=[{path:"",component:(()=>{class n{constructor(e,o){this.store=e,this.router=o,this.totalPrice$=this.store.select(l.m.TotalPrice),this.currency$=this.store.select(_.u.CurrencySelector),this.sortType$=this.store.select(l.m.Sort),this.IsLogIn$=this.store.select(A.c.IsLogIn),this.promoCode="",this.smallPage=!1,this.sortHelper=!1,this.IsLogInSub=this.IsLogIn$.subscribe(i=>{i||this.router.navigate(["/main"])})}ngOnInit(){this.getOrders(),this.onResize(),this.getSortSubscription()}ngOnDestroy(){this.IsLogInSub.unsubscribe()}onResize(){const e=window.innerWidth;e>1100&&this.smallPage?this.smallPage=!1:e<=1100&&!this.smallPage&&(this.smallPage=!0)}get ordersChecked(){return this.orders.reduce((e,o)=>(o.isChecked&&(e+=1),e),0)}activatePromoCode(){this.store.dispatch(p.W.PromoCode({code:this.promoCode})),this.promoCode=""}addNewTrip(){this.store.dispatch(C.j.ClearBookingPageState()),this.router.navigate(["/main"])}getOrders(){const e=this.store.select(l.m.Orders);this.orderSubscription=e.subscribe(o=>{this.sortHelper=!1,this.orders=o})}sortOrders(e){this.store.dispatch(p.W.SortAction({sortType:e}))}getSortSubscription(){this.sortSubscription=this.sortType$.subscribe(()=>{this.sortHelper=!0})}payForOrders(){this.store.dispatch(p.W.Pay())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.yh),t.Y36(m.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shopping-card"]],hostBindings:function(e,o){1&e&&t.NdJ("resize",function(){return o.onResize()},!1,t.Jf7)},decls:25,vars:13,consts:[["class","bg-light action-container",4,"ngIf"],[3,"order","smallPage",4,"ngFor","ngForOf"],[1,"new-trip","flex","item-center","justify-between"],["color","primary","mat-button","",1,"bg-light",3,"click"],["class","flex gap-half item-center",4,"ngIf"],[1,"cart-footer","flex","justify-between","item-center"],[1,"flex","justify-between","item-center","promo-container"],["placeholder","Promo Code",1,"promo-input",3,"ngModel","ngModelChange"],["color","primary","mat-button","",1,"promo-button",3,"click"],[1,"flex","gap-2","item-center"],[1,"selected-count"],["color","primary","mat-raised-button","",1,"pay-button",3,"click"],[1,"bg-light","action-container"],["sortName","No.",3,"click"],["sortName","Flight",3,"click"],["sortName","Type trip",3,"click"],["sortName","Data & Time",3,"click"],["sortName","Passengers",3,"click"],["sortName","Price",3,"click"],[3,"order","smallPage"],[1,"flex","gap-half","item-center"],[1,"text-black","fz-20","f-w-700"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Cart"),t.qZA()(),t.YNc(4,tt,7,0,"mat-card-actions",0),t.TgZ(5,"mat-card-content"),t.YNc(6,et,1,2,"app-order",1),t.ALo(7,"sortOrders"),t.ALo(8,"async"),t.TgZ(9,"div",2)(10,"button",3),t.NdJ("click",function(){return o.addNewTrip()}),t._uU(11," + Add new trip "),t.qZA(),t.YNc(12,nt,7,6,"div",4),t.ALo(13,"async"),t.qZA(),t._UZ(14,"mat-divider"),t.TgZ(15,"div",5)(16,"div",6)(17,"input",7),t.NdJ("ngModelChange",function(c){return o.promoCode=c}),t.qZA(),t.TgZ(18,"button",8),t.NdJ("click",function(){return o.activatePromoCode()}),t._uU(19," APPLY "),t.qZA()(),t.TgZ(20,"div",9)(21,"span",10),t._uU(22),t.qZA(),t.TgZ(23,"button",11),t.NdJ("click",function(){return o.payForOrders()}),t._uU(24," Payment "),t.qZA()()()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",!o.smallPage),t.xp6(2),t.Q6J("ngForOf",t.Dn7(7,5,o.orders,t.lcZ(8,9,o.sortType$),o.sortHelper)),t.xp6(6),t.Q6J("ngIf",t.lcZ(13,11,o.currency$)),t.xp6(5),t.Q6J("ngModel",o.promoCode),t.xp6(5),t.hij("",o.ordersChecked," selected"))},dependencies:[d.sg,d.O5,x.d,s.a8,s.hq,s.dn,s.dk,s.$j,s.n5,v.Fj,v.JJ,T.lW,v.On,y,w,d.Ov,Z.P,M],styles:["[_nghost-%COMP%]{width:100%}.action-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 3fr 2fr 4fr 3fr 3fr;justify-content:start;padding:0 2rem}.mat-mdc-card-content[_ngcontent-%COMP%]{padding:0 2rem}.new-trip[_ngcontent-%COMP%]{min-height:100px}.cart-footer[_ngcontent-%COMP%]{min-height:140px}.promo-container[_ngcontent-%COMP%]{height:48px;min-width:350px;border:.5px solid #74767A;border-radius:5px}.promo-input[_ngcontent-%COMP%]{margin-left:5px;outline:none;border:none;height:46px;width:75%;font-size:20px}input[_ngcontent-%COMP%]::placeholder{font-size:16px}.promo-button[_ngcontent-%COMP%]{height:48px;font-size:20px;letter-spacing:.5px;padding:0 1rem}.bg-light[_ngcontent-%COMP%]{background-color:#f5f5f5}.selected-count[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.5px;opacity:.7}.pay-button[_ngcontent-%COMP%]{font-size:16px;width:126px;height:60px;letter-spacing:.1px}@media screen and (max-width: 1100px){.cart-footer[_ngcontent-%COMP%]{flex-direction:column;margin-top:1rem}.promo-container[_ngcontent-%COMP%]{min-width:0;width:100%}}"],changeDetection:0}),n})()},{path:"account-page",component:(()=>{class n{constructor(e,o){this.store=e,this.router=o,this.totalPrice$=this.store.select(l.m.TotalPrice),this.currency$=this.store.select(_.u.CurrencySelector),this.sortType$=this.store.select(l.m.Sort),this.IsLogIn$=this.store.select(A.c.IsLogIn),this.promoCode="",this.smallPage=!1,this.sortHelper=!1,this.IsLogInSub=this.IsLogIn$.subscribe(i=>{i||this.router.navigate(["/main"])})}ngOnInit(){this.getOrders(),this.onResize(),this.getSortSubscription()}ngOnDestroy(){this.IsLogInSub.unsubscribe()}onResize(){const e=window.innerWidth;e>1100&&this.smallPage?this.smallPage=!1:e<=1100&&!this.smallPage&&(this.smallPage=!0)}get ordersChecked(){return this.orders.reduce((e,o)=>(o.isChecked&&(e+=1),e),0)}activatePromoCode(){this.store.dispatch(p.W.PromoCode({code:this.promoCode})),this.promoCode=""}addNewTrip(){this.store.dispatch(C.j.ClearBookingPageState()),this.router.navigate(["/main"])}getOrders(){const e=this.store.select(l.m.Orders);this.orderSubscription=e.subscribe(o=>{this.sortHelper=!1,this.orders=o})}sortOrders(e){this.store.dispatch(p.W.SortAction({sortType:e}))}getSortSubscription(){this.sortSubscription=this.sortType$.subscribe(()=>{this.sortHelper=!0})}toBookingSummary(){this.router.navigate(["/booking-page/booking-summary"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.yh),t.Y36(m.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-account-page"]],hostBindings:function(e,o){1&e&&t.NdJ("resize",function(){return o.onResize()},!1,t.Jf7)},decls:17,vars:11,consts:[["class","bg-light action-container",4,"ngIf"],[3,"order","smallPage",4,"ngFor","ngForOf"],[1,"new-trip","flex","item-center","justify-between"],["class","flex gap-half item-center",4,"ngIf"],[1,"cart-footer","flex","justify-between","item-center"],[1,"flex","gap-2","item-center"],["color","primary","mat-raised-button","",1,"pay-button",3,"click"],[1,"bg-light","action-container"],["sortName","No.",3,"click"],["sortName","Flight",3,"click"],["sortName","Type trip",3,"click"],["sortName","Data & Time",3,"click"],["sortName","Passengers",3,"click"],["sortName","Price",3,"click"],[3,"order","smallPage"],[1,"flex","gap-half","item-center"],[1,"text-black","fz-20","f-w-700"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Account page"),t.qZA()(),t.YNc(4,rt,7,0,"mat-card-actions",0),t.TgZ(5,"mat-card-content"),t.YNc(6,it,1,2,"app-order",1),t.ALo(7,"sortOrders"),t.ALo(8,"async"),t.TgZ(9,"div",2),t.YNc(10,at,7,6,"div",3),t.ALo(11,"async"),t.qZA(),t._UZ(12,"mat-divider"),t.TgZ(13,"div",4)(14,"div",5)(15,"button",6),t.NdJ("click",function(){return o.toBookingSummary()}),t._uU(16," Booking Summary "),t.qZA()()()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",!o.smallPage),t.xp6(2),t.Q6J("ngForOf",t.Dn7(7,3,o.orders,t.lcZ(8,7,o.sortType$),o.sortHelper)),t.xp6(4),t.Q6J("ngIf",t.lcZ(11,9,o.currency$)))},dependencies:[d.sg,d.O5,x.d,s.a8,s.hq,s.dn,s.dk,s.$j,s.n5,T.lW,y,w,d.Ov,Z.P,M],styles:["[_nghost-%COMP%]{width:100%}.action-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 3fr 2fr 4fr 3fr 3fr;justify-content:start;padding:0 2rem}.mat-mdc-card-content[_ngcontent-%COMP%]{padding:0 2rem}.new-trip[_ngcontent-%COMP%]{min-height:100px}.cart-footer[_ngcontent-%COMP%]{min-height:140px}.promo-container[_ngcontent-%COMP%]{height:48px;min-width:350px;border:.5px solid #74767A;border-radius:5px}.promo-input[_ngcontent-%COMP%]{margin-left:5px;outline:none;border:none;height:46px;width:75%;font-size:20px}input[_ngcontent-%COMP%]::placeholder{font-size:16px}.promo-button[_ngcontent-%COMP%]{height:48px;font-size:20px;letter-spacing:.5px;padding:0 1rem}.bg-light[_ngcontent-%COMP%]{background-color:#f5f5f5}.selected-count[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.5px;opacity:.7}.pay-button[_ngcontent-%COMP%]{font-size:16px;width:126px;height:60px;letter-spacing:.1px}@media screen and (max-width: 1100px){.cart-footer[_ngcontent-%COMP%]{flex-direction:column;margin-top:1rem}.promo-container[_ngcontent-%COMP%]{min-width:0;width:100%}}"],changeDetection:0}),n})()}];let ct=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(st),m.Bz]}),n})();var dt=a(4466);let pt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,ct,k.p9,h.Tx,dt.m]}),n})()}}]);